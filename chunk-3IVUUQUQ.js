import{$ as nt,A as Ge,B as L,C as $,E as He,G as ze,H as D,K as qe,L as Be,M as x,N as Ve,O as je,P as Je,Q as We,R as Ke,S as pe,T as f,U as Xe,V as Ye,W as Qe,X as Ze,Y as et,Z as M,_ as tt,aa as ot,b as _e,ba as st,c as Ae,ca as rt,d as Re,da as it,e as ve,ea as wn,f as w,fa as at,g as be,ga as dt,h as Pe,ha as ct,i as U,ia as pt,j as De,ja as lt,k as R,l as ke,m as Oe,n as ie,o as Ne,p as Te,q as Ue,r as Fe,s as Le,t as $e,u as ae,v as Me,w as F,x as de,z as ce}from"./chunk-6YRMYVUN.js";import{a as r,b as u,c as Ie,f as En,g as d}from"./chunk-XNH67M2Q.js";var Cn=e=>t=>n=>d(void 0,null,function*(){if(!w.isInstance(n.request))return t(n);let{request:o}=n,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!o.headers[":authority"])delete o.headers.host,o.headers[":authority"]=o.hostname+(o.port?":"+o.port:"");else if(!o.headers.host){let i=o.hostname;o.port!=null&&(i+=`:${o.port}`),o.headers.host=i}return t(n)}),In={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},ut=e=>({applyToStack:t=>{t.add(Cn(e),In)}});var _n=()=>(e,t)=>n=>d(void 0,null,function*(){try{let s=yield e(n),{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:p={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:g}=p,h=l??t.inputFilterSensitiveLog,E=g??t.outputFilterSensitiveLog,o=s.output,{$metadata:P}=o,re=Ie(o,["$metadata"]);return c?.info?.({clientName:i,commandName:a,input:h(n.input),output:E(re),metadata:P}),s}catch(s){let{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:p={}}=t,{overrideInputFilterSensitiveLog:l}=p,g=l??t.inputFilterSensitiveLog;throw c?.error?.({clientName:i,commandName:a,input:g(n.input),error:s,metadata:s.$metadata}),s}}),An={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},mt=e=>({applyToStack:t=>{t.add(_n(),An)}});var ft="X-Amzn-Trace-Id",Rn="AWS_LAMBDA_FUNCTION_NAME",vn="_X_AMZN_TRACE_ID",bn=e=>t=>n=>d(void 0,null,function*(){let{request:o}=n;if(!w.isInstance(o)||e.runtime!=="node"||o.headers.hasOwnProperty(ft))return t(n);let s=process.env[Rn],i=process.env[vn],a=c=>typeof c=="string"&&c.length>0;return a(s)&&a(i)&&(o.headers[ft]=i),t(u(r({},n),{request:o}))}),Pn={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},gt=e=>({applyToStack:t=>{t.add(bn(e),Pn)}});var Dn=void 0;function kn(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function yt(e){let t=R(e.userAgentAppId??Dn);return u(r({},e),{customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent,userAgentAppId:()=>d(this,null,function*(){let n=yield t();if(!kn(n)){let o=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?o?.warn("userAgentAppId must be a string or undefined."):n.length>50&&o?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n})})}var le=(e,t=!1)=>{if(t){for(let n of e.split("."))if(!le(n))return!1;return!0}return!(!Me(e)||e.length<3||e.length>63||e!==e.toLowerCase()||ae(e))};var ht=":",On="/",xt=e=>{let t=e.split(ht);if(t.length<6)return null;let[n,o,s,i,a,...c]=t;if(n!=="arn"||o===""||s===""||c.join(ht)==="")return null;let p=c.map(l=>l.split(On)).flat();return{partition:o,service:s,region:i,accountId:a,resourceId:p}};var St={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"};var Tn=St,Un="",Et=e=>{let{partitions:t}=Tn;for(let o of t){let{regions:s,outputs:i}=o;for(let[a,c]of Object.entries(s))if(a===e)return r(r({},i),c)}for(let o of t){let{regionRegex:s,outputs:i}=o;if(new RegExp(s).test(e))return r({},i)}let n=t.find(o=>o.id==="aws");if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return r({},n.outputs)};var wt=()=>Un;var ue={isVirtualHostableS3Bucket:le,parseArn:xt,partition:Et};F.aws=ue;function Ct(e,t,n){return e.$source||(e.$source={}),e.$source[t]=n,e}function S(e,t,n){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=n}var me=e=>be.isInstance(e)?e.headers?.date??e.headers?.Date:void 0;var G=e=>new Date(Date.now()+e);var It=(e,t)=>Math.abs(G(t).getTime()-e)>=3e5;var fe=(e,t)=>{let n=Date.parse(e);return It(n,t)?n-Date.now():t};var k=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},_t=e=>d(void 0,null,function*(){let t=k("context",e.context),n=k("config",e.config),o=t.endpointV2?.properties?.authSchemes?.[0],i=yield k("signer",n.signer)(o),a=e?.signingRegion,c=e?.signingRegionSet,p=e?.signingName;return{config:n,signer:i,signingRegion:a,signingRegionSet:c,signingName:p}}),O=class{sign(t,n,o){return d(this,null,function*(){if(!w.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=yield _t(o),{config:i,signer:a}=s,{signingRegion:c,signingName:p}=s,l=o.context;if(l?.authSchemes?.length??!1){let[h,E]=l.authSchemes;h?.name==="sigv4a"&&E?.name==="sigv4"&&(c=E?.signingRegion??c,p=E?.signingName??p)}return yield a.sign(t,{signingDate:G(i.systemClockOffset),signingRegion:c,signingService:p})})}errorHandler(t){return n=>{let o=n.ServerTime??me(n.$response);if(o){let s=k("config",t.config),i=s.systemClockOffset;s.systemClockOffset=fe(o,s.systemClockOffset),s.systemClockOffset!==i&&n.$metadata&&(n.$metadata.clockSkewCorrected=!0)}throw n}}successHandler(t,n){let o=me(t);if(o){let s=k("config",n.config);s.systemClockOffset=fe(o,s.systemClockOffset)}}};var At=e=>{let t=!1,n;e.credentials&&(t=!0,n=Le(e.credentials,Ue,Fe)),n||(e.credentialDefaultProvider?n=R(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):n=()=>d(void 0,null,function*(){throw new Error("`credentials` is missing")}));let{signingEscapePath:o=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=R(e.signer):e.regionInfoProvider?a=()=>R(e.region)().then(c=>d(void 0,null,function*(){return[(yield e.regionInfoProvider(c,{useFipsEndpoint:yield e.useFipsEndpoint(),useDualstackEndpoint:yield e.useDualstackEndpoint()}))||{},c]})).then(([c,p])=>{let{signingRegion:l,signingService:g}=c;e.signingRegion=e.signingRegion||l||p,e.signingName=e.signingName||g||e.serviceId;let h=u(r({},e),{credentials:n,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o}),E=e.signerConstructor||ce;return new E(h)}):a=c=>d(void 0,null,function*(){c=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:yield R(e.region)(),properties:{}},c);let p=c.signingRegion,l=c.signingName;e.signingRegion=e.signingRegion||p,e.signingName=e.signingName||l||e.serviceId;let g=u(r({},e),{credentials:n,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:o}),h=e.signerConstructor||ce;return new h(g)}),u(r({},e),{systemClockOffset:s,signingEscapePath:o,credentials:t?()=>d(void 0,null,function*(){return n().then(c=>Ct(c,"CREDENTIALS_CODE","e"))}):n,signer:a})};var Rt=(e,t)=>ie(e,t).then(n=>t.utf8Encoder(n));var H=(e,t)=>Rt(e,t).then(n=>{if(n.length)try{return JSON.parse(n)}catch(o){throw o?.name==="SyntaxError"&&Object.defineProperty(o,"$responseBodyText",{value:n}),o}return{}}),vt=(e,t)=>d(void 0,null,function*(){let n=yield H(e,t);return n.message=n.message??n.Message,n}),bt=(e,t)=>{let n=(i,a)=>Object.keys(i).find(c=>c.toLowerCase()===a.toLowerCase()),o=i=>{let a=i;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},s=n(e.headers,"x-amzn-errortype");if(s!==void 0)return o(e.headers[s]);if(t.code!==void 0)return o(t.code);if(t.__type!==void 0)return o(t.__type)};var Fn=/\d{12}\.ddb/;function Pt(e,t,n){return d(this,null,function*(){if(n.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&S(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let i=yield t.retryStrategy();typeof i.acquireInitialRetryToken=="function"?i.constructor?.name?.includes("Adaptive")?S(e,"RETRY_MODE_ADAPTIVE","F"):S(e,"RETRY_MODE_STANDARD","E"):S(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let i=e.endpointV2;switch(String(i?.url?.hostname).match(Fn)&&S(e,"ACCOUNT_ID_ENDPOINT","O"),yield t.accountIdEndpointMode?.()){case"disabled":S(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":S(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":S(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let i=s;i.accountId&&S(e,"RESOLVED_ACCOUNT_ID","T");for(let[a,c]of Object.entries(i.$source??{}))S(e,a,c)}})}var ge="user-agent",z="x-amz-user-agent",ye=" ",q="/",Dt=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,kt=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,he="-";function Ot(e){let t="";for(let n in e){let o=e[n];if(t.length+o.length+1<=1024){t.length?t+=","+o:t+=o;continue}break}return t}var Ln=e=>(t,n)=>o=>d(void 0,null,function*(){let{request:s}=o;if(!w.isInstance(s))return t(o);let{headers:i}=s,a=n?.userAgent?.map(B)||[],c=(yield e.defaultUserAgentProvider()).map(B);yield Pt(n,e,o);let p=n;c.push(`m/${Ot(Object.assign({},n.__smithy_context?.features,p.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(B)||[],g=yield e.userAgentAppId();g&&c.push(B([`app/${g}`]));let h=wt(),E=(h?[h]:[]).concat([...c,...a,...l]).join(ye),P=[...c.filter(re=>re.startsWith("aws-sdk-")),...l].join(ye);return e.runtime!=="browser"?(P&&(i[z]=i[z]?`${i[ge]} ${P}`:P),i[ge]=E):i[z]=E,t(u(r({},o),{request:s}))}),B=e=>{let t=e[0].split(q).map(a=>a.replace(Dt,he)).join(q),n=e[1]?.replace(kt,he),o=t.indexOf(q),s=t.substring(0,o),i=t.substring(o+1);return s==="api"&&(i=i.toLowerCase()),[s,i,n].filter(a=>a&&a.length>0).reduce((a,c,p)=>{switch(p){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},$n={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Nt=e=>({applyToStack:t=>{t.add(Ln(e),$n)}});var Tt=(e,t,n)=>d(void 0,null,function*(){return{operation:_e(t).operation,region:(yield Ae(e.region)())||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}});function Mn(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-identity",region:e.region},propertiesExtractor:(t,n)=>({signingProperties:{config:t,context:n}})}}function V(e){return{schemeId:"smithy.api#noAuth"}}var Ut=e=>{let t=[];switch(e.operation){case"GetCredentialsForIdentity":{t.push(V(e));break}case"GetId":{t.push(V(e));break}case"GetOpenIdToken":{t.push(V(e));break}case"UnlinkIdentity":{t.push(V(e));break}default:t.push(Mn(e))}return t},Ft=e=>{let t=At(e);return r({},t)};var Lt=e=>u(r({},e),{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"}),j={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var $t={name:"@aws-sdk/client-cognito-identity",description:"AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native",version:"3.678.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-cognito-identity","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cognito-identity","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/client-sso-oidc":"3.678.0","@aws-sdk/client-sts":"3.678.0","@aws-sdk/core":"3.678.0","@aws-sdk/credential-provider-node":"3.678.0","@aws-sdk/middleware-host-header":"3.667.0","@aws-sdk/middleware-logger":"3.667.0","@aws-sdk/middleware-recursion-detection":"3.667.0","@aws-sdk/middleware-user-agent":"3.678.0","@aws-sdk/region-config-resolver":"3.667.0","@aws-sdk/types":"3.667.0","@aws-sdk/util-endpoints":"3.667.0","@aws-sdk/util-user-agent-browser":"3.675.0","@aws-sdk/util-user-agent-node":"3.678.0","@smithy/config-resolver":"^3.0.9","@smithy/core":"^2.4.8","@smithy/fetch-http-handler":"^3.2.9","@smithy/hash-node":"^3.0.7","@smithy/invalid-dependency":"^3.0.7","@smithy/middleware-content-length":"^3.0.9","@smithy/middleware-endpoint":"^3.1.4","@smithy/middleware-retry":"^3.0.23","@smithy/middleware-serde":"^3.0.7","@smithy/middleware-stack":"^3.0.7","@smithy/node-config-provider":"^3.1.8","@smithy/node-http-handler":"^3.2.4","@smithy/protocol-http":"^4.1.4","@smithy/smithy-client":"^3.4.0","@smithy/types":"^3.5.0","@smithy/url-parser":"^3.0.7","@smithy/util-base64":"^3.0.0","@smithy/util-body-length-browser":"^3.0.0","@smithy/util-body-length-node":"^3.0.0","@smithy/util-defaults-mode-browser":"^3.0.23","@smithy/util-defaults-mode-node":"^3.0.23","@smithy/util-endpoints":"^2.1.3","@smithy/util-middleware":"^3.0.7","@smithy/util-retry":"^3.0.7","@smithy/util-utf8":"^3.0.0",tslib:"^2.6.2"},devDependencies:{"@aws-sdk/client-iam":"3.678.0","@tsconfig/node16":"16.1.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^16.18.96",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},engines:{node:">=16.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cognito-identity"}};var Mt=En(wn());var Gt=({serviceId:e,clientVersion:t})=>n=>d(void 0,null,function*(){let o=typeof window<"u"&&window?.navigator?.userAgent?Mt.default.parse(window.navigator.userAgent):void 0,s=[["aws-sdk-js",t],["ua","2.1"],[`os/${o?.os?.name||"other"}`,o?.os?.version],["lang/js"],["md/browser",`${o?.browser?.name??"unknown"}_${o?.browser?.version??"unknown"}`]];e&&s.push([`api/${e}`,t]);let i=yield n?.userAgentAppId?.();return i&&s.push([`app/${i}`]),s});var xe=e=>new TextEncoder().encode(e);var Ht=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)};var Yt="required",I="fn",_="argv",b="ref";var zt="isSet",T="booleanEquals",v="error",N="endpoint",A="tree",Se="PartitionResult",qt={[Yt]:!1,type:"String"},Bt={[Yt]:!0,default:!1,type:"Boolean"},Vt={[b]:"Endpoint"},Qt={[I]:T,[_]:[{[b]:"UseFIPS"},!0]},Zt={[I]:T,[_]:[{[b]:"UseDualStack"},!0]},C={},jt={[I]:"getAttr",[_]:[{[b]:Se},"supportsFIPS"]},Jt={[I]:T,[_]:[!0,{[I]:"getAttr",[_]:[{[b]:Se},"supportsDualStack"]}]},Wt=[Qt],Kt=[Zt],Xt=[{[b]:"Region"}],Hn={version:"1.0",parameters:{Region:qt,UseDualStack:Bt,UseFIPS:Bt,Endpoint:qt},rules:[{conditions:[{[I]:zt,[_]:[Vt]}],rules:[{conditions:Wt,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:v},{conditions:Kt,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:v},{endpoint:{url:Vt,properties:C,headers:C},type:N}],type:A},{conditions:[{[I]:zt,[_]:Xt}],rules:[{conditions:[{[I]:"aws.partition",[_]:Xt,assign:Se}],rules:[{conditions:[Qt,Zt],rules:[{conditions:[{[I]:T,[_]:[!0,jt]},Jt],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:C,headers:C},type:N}],type:A},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:v}],type:A},{conditions:Wt,rules:[{conditions:[{[I]:T,[_]:[jt,!0]}],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:C,headers:C},type:N}],type:A},{error:"FIPS is enabled but this partition does not support FIPS",type:v}],type:A},{conditions:Kt,rules:[{conditions:[Jt],rules:[{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:C,headers:C},type:N}],type:A},{error:"DualStack is enabled but this partition does not support DualStack",type:v}],type:A},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:C,headers:C},type:N}],type:A}],type:A},{error:"Invalid Configuration: Missing Region",type:v}]},en=Hn;var zn=new $e({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),tn=(e,t={})=>zn.get(e,()=>de(en,{endpointParams:e,logger:t.logger}));F.aws=ue;var nn=e=>({apiVersion:"2014-06-30",base64Decoder:e?.base64Decoder??ke,base64Encoder:e?.base64Encoder??Oe,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??tn,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Ut,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new O},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(()=>d(void 0,null,function*(){return{}})),signer:new Te}],logger:e?.logger??new Ke,serviceId:e?.serviceId??"Cognito Identity",urlParser:e?.urlParser??et,utf8Decoder:e?.utf8Decoder??xe,utf8Encoder:e?.utf8Encoder??Ht});var on=e=>{let t=lt(e),n=()=>t().then(je),o=nn(e);return u(r(r({},o),e),{runtime:"browser",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??pt,credentialDefaultProvider:e?.credentialDefaultProvider??(s=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:e?.defaultUserAgentProvider??Gt({serviceId:o.serviceId,clientVersion:$t.version}),maxAttempts:e?.maxAttempts??nt,region:e?.region??ct("Region is missing"),requestHandler:at.create(e?.requestHandler??n),retryMode:e?.retryMode??(()=>d(void 0,null,function*(){return(yield n()).retryMode||ot})),sha256:e?.sha256??it,streamCollector:e?.streamCollector??dt,useDualstackEndpoint:e?.useDualstackEndpoint??(()=>Promise.resolve(Xe)),useFipsEndpoint:e?.useFipsEndpoint??(()=>Promise.resolve(Ye))})};var sn=e=>{let t=()=>d(void 0,null,function*(){if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");let n=e.region;return typeof n=="string"?n:n()});return{setRegion(n){t=n},region(){return t}}},rn=e=>({region:e.region()});var an=e=>{let t=e.httpAuthSchemes,n=e.httpAuthSchemeProvider,o=e.credentials;return{setHttpAuthScheme(s){let i=t.findIndex(a=>a.schemeId===s.schemeId);i===-1?t.push(s):t.splice(i,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){n=s},httpAuthSchemeProvider(){return n},setCredentials(s){o=s},credentials(){return o}}},dn=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()});var J=e=>e,cn=(e,t)=>{let n=r(r(r(r({},J(sn(e))),J(Je(e))),J(Re(e))),J(an(e)));return t.forEach(o=>o.configure(n)),r(r(r(r(r({},e),rn(n)),We(n)),ve(n)),dn(n))};var Ee=class extends Ge{constructor(...[t]){let n=on(t||{}),o=Lt(n),s=yt(o),i=st(s),a=Qe(i),c=a,p=tt(c),l=Ft(p),g=cn(l,t?.extensions||[]);super(g),this.config=g,this.middlewareStack.use(Nt(this.config)),this.middlewareStack.use(rt(this.config)),this.middlewareStack.use(Ze(this.config)),this.middlewareStack.use(ut(this.config)),this.middlewareStack.use(mt(this.config)),this.middlewareStack.use(gt(this.config)),this.middlewareStack.use(Pe(this.config,{httpAuthSchemeParametersProvider:Tt,identityProviderConfigProvider:h=>d(this,null,function*(){return new Ne({"aws.auth#sigv4":h.credentials})})})),this.middlewareStack.use(De(this.config))}destroy(){super.destroy()}};var m=class e extends Be{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}};var W=class e extends m{constructor(t){super(r({name:"InternalErrorException",$fault:"server"},t)),this.name="InternalErrorException",this.$fault="server",Object.setPrototypeOf(this,e.prototype)}},K=class e extends m{constructor(t){super(r({name:"InvalidParameterException",$fault:"client"},t)),this.name="InvalidParameterException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},X=class e extends m{constructor(t){super(r({name:"LimitExceededException",$fault:"client"},t)),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},Y=class e extends m{constructor(t){super(r({name:"NotAuthorizedException",$fault:"client"},t)),this.name="NotAuthorizedException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},Q=class e extends m{constructor(t){super(r({name:"ResourceConflictException",$fault:"client"},t)),this.name="ResourceConflictException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},Z=class e extends m{constructor(t){super(r({name:"TooManyRequestsException",$fault:"client"},t)),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};var ee=class e extends m{constructor(t){super(r({name:"ResourceNotFoundException",$fault:"client"},t)),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},te=class e extends m{constructor(t){super(r({name:"ExternalServiceException",$fault:"client"},t)),this.name="ExternalServiceException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},ne=class e extends m{constructor(t){super(r({name:"InvalidIdentityPoolConfigurationException",$fault:"client"},t)),this.name="InvalidIdentityPoolConfigurationException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}};var oe=class e extends m{constructor(t){super(r({name:"DeveloperUserAlreadyRegisteredException",$fault:"client"},t)),this.name="DeveloperUserAlreadyRegisteredException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},se=class e extends m{constructor(t){super(r({name:"ConcurrentModificationException",$fault:"client"},t)),this.name="ConcurrentModificationException",this.$fault="client",Object.setPrototypeOf(this,e.prototype)}},pn=e=>r(r({},e),e.Logins&&{Logins:$}),Bn=e=>r(r({},e),e.SecretKey&&{SecretKey:$}),ln=e=>r(r({},e),e.Credentials&&{Credentials:Bn(e.Credentials)}),un=e=>r(r({},e),e.Logins&&{Logins:$});var mn=(e,t)=>d(void 0,null,function*(){let n=Sn("GetCredentialsForIdentity"),o;return o=JSON.stringify(f(e)),xn(t,n,"/",void 0,o)}),fn=(e,t)=>d(void 0,null,function*(){let n=Sn("GetId"),o;return o=JSON.stringify(f(e)),xn(t,n,"/",void 0,o)});var gn=(e,t)=>d(void 0,null,function*(){if(e.statusCode>=300)return hn(e,t);let n=yield H(e.body,t),o={};return o=oo(n,t),r({$metadata:y(e)},o)}),yn=(e,t)=>d(void 0,null,function*(){if(e.statusCode>=300)return hn(e,t);let n=yield H(e.body,t),o={};return o=f(n),r({$metadata:y(e)},o)});var hn=(e,t)=>d(void 0,null,function*(){let n=u(r({},e),{body:yield vt(e.body,t)}),o=bt(e,n.body);switch(o){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw yield Wn(n,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw yield Xn(n,t);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw yield Yn(n,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw yield Qn(n,t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw yield Zn(n,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw yield to(n,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw yield eo(n,t);case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw yield Jn(n,t);case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":throw yield Kn(n,t);case"DeveloperUserAlreadyRegisteredException":case"com.amazonaws.cognitoidentity#DeveloperUserAlreadyRegisteredException":throw yield jn(n,t);case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw yield Vn(n,t);default:let s=n.body;return so({output:e,parsedBody:s,errorCode:o})}}),Vn=(e,t)=>d(void 0,null,function*(){let n=e.body,o=f(n),s=new se(r({$metadata:y(e)},o));return x(s,n)}),jn=(e,t)=>d(void 0,null,function*(){let n=e.body,o=f(n),s=new oe(r({$metadata:y(e)},o));return x(s,n)}),Jn=(e,t)=>d(void 0,null,function*(){let n=e.body,o=f(n),s=new te(r({$metadata:y(e)},o));return x(s,n)}),Wn=(e,t)=>d(void 0,null,function*(){let n=e.body,o=f(n),s=new W(r({$metadata:y(e)},o));return x(s,n)}),Kn=(e,t)=>d(void 0,null,function*(){let n=e.body,o=f(n),s=new ne(r({$metadata:y(e)},o));return x(s,n)}),Xn=(e,t)=>d(void 0,null,function*(){let n=e.body,o=f(n),s=new K(r({$metadata:y(e)},o));return x(s,n)}),Yn=(e,t)=>d(void 0,null,function*(){let n=e.body,o=f(n),s=new X(r({$metadata:y(e)},o));return x(s,n)}),Qn=(e,t)=>d(void 0,null,function*(){let n=e.body,o=f(n),s=new Y(r({$metadata:y(e)},o));return x(s,n)}),Zn=(e,t)=>d(void 0,null,function*(){let n=e.body,o=f(n),s=new Q(r({$metadata:y(e)},o));return x(s,n)}),eo=(e,t)=>d(void 0,null,function*(){let n=e.body,o=f(n),s=new ee(r({$metadata:y(e)},o));return x(s,n)}),to=(e,t)=>d(void 0,null,function*(){let n=e.body,o=f(n),s=new Z(r({$metadata:y(e)},o));return x(s,n)}),no=(e,t)=>pe(e,{AccessKeyId:D,Expiration:n=>ze(qe(He(n))),SecretKey:D,SessionToken:D}),oo=(e,t)=>pe(e,{Credentials:n=>no(n,t),IdentityId:D});var y=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]});var so=Ve(m),xn=(e,t,n,o,s)=>d(void 0,null,function*(){let{hostname:i,protocol:a="https",port:c,path:p}=yield e.endpoint(),l={protocol:a,hostname:i,port:c,method:"POST",path:p.endsWith("/")?p.slice(0,-1)+n:p+n,headers:t};return o!==void 0&&(l.hostname=o),s!==void 0&&(l.body=s),new w(l)});function Sn(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}}var we=class extends L.classBuilder().ep(j).m(function(t,n,o,s){return[U(o,this.serialize,this.deserialize),M(o,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetCredentialsForIdentity",{}).n("CognitoIdentityClient","GetCredentialsForIdentityCommand").f(pn,ln).ser(mn).de(gn).build(){};var Ce=class extends L.classBuilder().ep(j).m(function(t,n,o,s){return[U(o,this.serialize,this.deserialize),M(o,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetId",{}).n("CognitoIdentityClient","GetIdCommand").f(un,void 0).ser(fn).de(yn).build(){};export{Ee as CognitoIdentityClient,we as GetCredentialsForIdentityCommand,Ce as GetIdCommand};
